title: Internet
path: internet
panel: false
icon: mdi:web
badges: []
cards:

  - type: markdown
    title: Ziggo storingen
    entities:
      - sensor.ziggo_incidents
    content: >-
      {% if not state_attr(config.entities[0], 'outages') -%}
        Geen
      {% else %}
        {% for outage in state_attr(config.entities[0], 'outages') -%}
        **[{{ outage.status }}]: {{ outage.title }}**
        
        {{ outage.announcement }}
        
        Verwachte opgelost: {{ outage.expected_solv_time }}
        
        {%- endfor %}
      {%- endif %}

  - type: vertical-stack
    cards:
      - type: entities
        title: Internet
        entities:
          - sensor.myip
          - entity: sensor.speedtest_download
            name: Download
            secondary_info: last-changed
          - entity: sensor.speedtest_upload
            name: Upload
            secondary_info: last-changed
          - entity: sensor.speedtest_ping
            name: Ping
            secondary_info: last-changed

      - type: horizontal-stack
        cards:
          - type: sensor
            entity: sensor.speedtest_download
            graph: line
            name: Download

          - type: sensor
            entity: sensor.speedtest_upload
            graph: line
            name: Upload

          - type: sensor
            entity: sensor.speedtest_ping
            graph: line
            name: Ping

  - type: custom:auto-entities
    card:
      type: entities
      title: Certificaten
      show_header_toggle: false
    filter:
      include:
        - entity_id: 'sensor.cert_expiry_*'
          not:
            entity_id: 'sensor.cert_expiry_timestamp*'
    sort:
      method: name
