- id: ios_action_alarm_off
  alias: iOS action - alarm uit
  initial_state: on
  mode: single
  max_exceeded: silent
  trigger:
    - platform: event
      event_type: ios.action_fired
      event_data:
        actionName: ALARM_OFF
  action:
    - variables:
        user_id: "{{ trigger.event.context.user_id }}"

    - choose:
      - conditions:
          - "{{ is_state_attr('person.sander', 'user_id', user_id) }}"
        sequence: []

- id: ios_action_alarm_snooze
  alias: iOS action - alarm gesnoozed
  initial_state: on
  mode: single
  max_exceeded: silent
  trigger:
    - platform: event
      event_type: ios.action_fired
      event_data:
        actionName: ALARM_SNOOZE
  action:
    - variables:
        user_id: "{{ trigger.event.context.user_id }}"

    - choose:
      - conditions:
          - "{{ is_state_attr('person.sander', 'user_id', user_id) }}"
        sequence:
          service: tahoma.set_cover_my_position
          entity_id: cover.alle_rolluiken

- id: ios_action_radio_qmusic
  alias: iOS action - Qmusic
  initial_state: on
  mode: single
  max_exceeded: silent
  trigger:
    - platform: event
      event_type: ios.action_fired
      event_data:
        actionName: RADIO_QMUSIC
  action:
    - service: script.play_livingroom_radio
      data:
        stream: https://icecast-qmusicnl-cdp.triple-it.nl/Qmusic_nl_live_96.mp3

- id: ios_action_tv_ziggo
  alias: iOS action - Ziggo
  initial_state: on
  mode: single
  max_exceeded: silent
  trigger:
    - platform: event
      event_type: ios.action_fired
      event_data:
        actionName: TV_ZIGGO
  action:
    - service: script.play_livingroom_tv_source_ziggo
