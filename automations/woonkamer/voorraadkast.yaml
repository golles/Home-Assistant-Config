- id: voorraadkast_light_bsaed_on_door
  alias: Voorraadkast verlichting automatisch aan en uit
  initial_state: on
  mode: single
  max_exceeded: silent
  trigger:
    - platform: state
      entity_id: binary_sensor.voorraadkastdeur_contact
      to: 
        - 'on'
        - 'off'
  action:
    - choose:
      - conditions:
          - condition: state
            entity_id: binary_sensor.voorraadkastdeur_contact
            state: 'on'
        sequence:
          - service: switch.turn_on
            entity_id: switch.voorraadkastlamp_switch

          - delay:
              minutes: 10

          - service: switch.turn_off
            entity_id: switch.voorraadkastlamp_switch

      default:
        - service: switch.turn_off
          entity_id: switch.voorraadkastlamp_switch
